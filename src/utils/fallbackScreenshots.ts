// Static screenshot mapping - Use when API quota exhausted
export const FALLBACK_SCREENSHOTS: Record<string, string> = {
  // Architecture & Spatial Design
  'aitwo.co': '/screenshots/aitwo_co_.webp',
  '3dhouseplanner.com': '/screenshots/3dhouseplanner_com_.webp',
  'ai-architectures.com': '/screenshots/ai_architectures_com_.webp',
  'arkdesign.ai': '/screenshots/arkdesign_ai_.webp',
  'arcadium3d.com': '/screenshots/arcadium3d_com_.webp',
  'architechtures.com': '/screenshots/architechtures_com_en.webp',
  'architectai.app': '/screenshots/architectai_app_.webp',
  'archonet.co': '/screenshots/archonet_co.webp',
  'autodesk.com': '/screenshots/autodesk forma.webp',
  'bricsys.com': '/screenshots/www_bricsys_com_en_eu_bricscad_bim.webp',
  'chaos.com': '/screenshots/chaos.webp',
  'decoratly.com': '/screenshots/www_decoratly_com_.webp',
  'designedbyai.io': '/screenshots/designedbyai_io_.webp',
  'designera.app': '/screenshots/designera_app_.webp',
  'designai.us': '/screenshots/www_designai_us_.webp',
  'designifyai.io': '/screenshots/www_designifyai_io_.webp',
  'designsense.ai': '/screenshots/www_designsense_ai_.webp',
  'dreamzar.app': '/screenshots/www_dreamzar_app_.webp',
  'd5render.com': '/screenshots/www_d5render_com_.webp',
  'draftaid.io': '/screenshots/draftaid_io_.webp',
  'evolvelab.io': '/screenshots/www_evolvelab_io_veras.webp',
  'floorplan-ai.com': '/screenshots/www_floorplan_ai_com_.webp',
  'floordesign.ai': '/screenshots/floordesign_ai_.webp',
  'gepettoapp.com': '/screenshots/gepettoapp_com_.webp',
  'lumion.com': '/screenshots/lumion_com_.webp',
  'lookx.ai': '/screenshots/www_lookx_ai_.webp',
  'madespace.ai': '/screenshots/madespace_ai_.webp',
  'maket.ai': '/screenshots/maket.ai.webp',
  'www.maket.ai': '/screenshots/www_maket_ai_.webp',
  'mnml.ai': '/screenshots/mnml_ai_.webp',
  'moodboardai.com': '/screenshots/moodboardai_com_.webp',
  'myarchitectai.com': '/screenshots/myarchitectai_com_.webp',
  'opal-ai.com': '/screenshots/www_opal_ai_com_.webp',
  'paintit.ai': '/screenshots/paintit_ai_.webp',
  'renovateai.app': '/screenshots/renovateai_app_.webp',
  'renovateai.ai': '/screenshots/renovate_ai.webp',
  'rendera.ai': '/screenshots/rendera_ai.webp',
  'renderai.app': '/screenshots/renderai_app_.webp',
  'roomdesigner.ai': '/screenshots/www_roomdesigner_ai_.webp',
  'rusticai.art': '/screenshots/www_rusticai_art_.webp',
  'sketchpro.ai': '/screenshots/sketchpro_ai_.webp',
  'sofabrain.com': '/screenshots/sofabrain_com_.webp',
  'spacely.ai': '/screenshots/www_spacely_ai_tools.webp',
  'spatiastudio.com': '/screenshots/www_spatiastudio_com_.webp',
  'testfit.io': '/screenshots/www_testfit_io_product_real_time_ai.webp',
  'vibe3d.ai': '/screenshots/vibe3d_ai_.webp',
  'visoid.com': '/screenshots/www_visoid_com_.webp',
  'visualizee.ai': '/screenshots/visualizee_ai_.webp',
  'www.aihouse.com': '/screenshots/www_aihouse_com_.webp',
  'www.architectgpt.io': '/screenshots/www_architectgpt_io_.webp',
  'www.archivinci.com': '/screenshots/www_archivinci_com_.webp',
  'www.archsynth.com': '/screenshots/www_archsynth_com_.webp',
  'www.decoratly.com': '/screenshots/www_decoratly_com_.webp',
  'www.dreamzar.app': '/screenshots/www_dreamzar_app_.webp',
  'www.homegpt.app': '/screenshots/www_homegpt_app_.webp',
  'www.homevisualizer.ai': '/screenshots/www_homevisualizer_ai_.webp',
  'www.iacrea.com': '/screenshots/www_iacrea_com_.webp',
  'www.indesignify.com': '/screenshots/www_indesignify_com_.webp',
  'www.roomdeco.ai': '/screenshots/www_roomdeco_ai_.webp',
  'www.roomgpt.io': '/screenshots/www_roomgpt_io_.webp',
  'www.roomdesigner.ai': '/screenshots/www_roomdesigner_ai_.webp',
  'www.zoyo.ai': '/screenshots/www_zoyo_ai_.webp',

  // Interior Design
  'ai4spaces.com': '/screenshots/ai4spaces_com_.webp',
  'aigardendesign.io': '/screenshots/aigardendesign_io_.webp',
  'arch-e.ai': '/screenshots/arch_e_ai_.webp',
  'archi.ai': '/screenshots/archi_ai__enhanced.webp',
  'artevia.ai': '/screenshots/artevia_ai_.webp',
  'collov.ai': '/screenshots/collov ai.webp',
  'decorai.xyz': '/screenshots/decorai_xyz_.webp',
  'decorion.xyz': '/screenshots/decorion_xyz_.webp',
  'home-design.ai': '/screenshots/home_design_ai_.webp',
  'indesignify.com': '/screenshots/indesignify_com_.webp',
  'instantdeco.ai': '/screenshots/instantdeco_ai_.webp',
  'kitchengpt.io': '/screenshots/kitchengpt_io_.webp',
  'luw.ai': '/screenshots/luw_ai_.webp',
  'palette.immo': '/screenshots/palette_immo_.webp',
  'reimaginehome.ai': '/screenshots/www_reimaginehome_ai_.webp',
  'www.reimaginehome.ai': '/screenshots/www_reimaginehome_ai_.webp',
  'aihomedesign.com': '/screenshots/aihomedesign_com_.webp',
  'roomai.com': '/screenshots/roomai_com_.webp',
  'roomgpt.io': '/screenshots/www_roomgpt_io_.webp',
  'vsdeco.com': '/screenshots/vsdeco_com_.webp',

  // Landscape Design
  'landscapedesignsai.com': '/screenshots/landscapedesignsai_com_.webp',
  'yardflip.ai': '/screenshots/www_yardflip_ai_.webp',
  'www.yardflip.ai': '/screenshots/www_yardflip_ai_.webp',

  // General Design
  'midjourney.com': '/screenshots/midjourney.webp',
  'openai.com': '/screenshots/dall-e-3.webp',
  'helpx.adobe.com': '/screenshots/helpx.adobe.webp',

  // Real Estate (covered above)

  // Architectural Rendering & Visualization
  'airender.studio': '/screenshots/airender_studio_.webp',
  'arko.ai': '/screenshots/arko_ai_.webp'
};

/**
 * 获取工具的静态备用截图
 */
export function getFallbackScreenshotUrl(toolUrl: string): string | null {
  try {
    const url = new URL(toolUrl);
    const domain = url.hostname.replace(/^www\./, '');
    const hostname = url.hostname;

    // Try both with and without www
    return FALLBACK_SCREENSHOTS[domain] || FALLBACK_SCREENSHOTS[hostname] || null;
  } catch {
    return null;
  }
}

/**
 * 获取通用的占位图
 */
export function getPlaceholderImageUrl(): string {
  const colors = ['667eea', '764ba2', 'f093fb', 'f5576c', '4facfe', '00f2fe'];
  const randomColor = colors[Math.floor(Math.random() * colors.length)];
  return `https://via.placeholder.com/800x530/${randomColor}/ffffff?text=AI+Tool`;
}